---
â­•ì²« í•™ìŠµë‚ : 2024-10-01
â­•ê³¼ëª©: Argo CD
â­•í•™ìŠµì •ë„: ðŸ¤”ì¤‘
â¤1ì¼ë³µìŠµì—¬ë¶€: true
ðŸ§¡4ì¼ë³µìŠµì—¬ë¶€: true
ðŸ’›7ì¼ë³µìŠµì—¬ë¶€: true
ðŸ’š14ì¼ë³µìŠµì—¬ë¶€: true
ðŸ§ ìž¥ê¸°ê¸°ì–µ: false
ë³µìŠµ: ì¶”ê°€ ë³µìŠµ
ðŸ›‘ì²«ë‚ : "âœì²«ë‚  : 2024/10/01"
ðŸ›‘ì˜¤ëŠ˜: "â°ì˜¤ëŠ˜ : 2024/10/27"
ðŸ›‘ì²«í•™ìŠµí›„ ëª‡ì¼ì§¸?: ì²« í•™ìŠµ í›„ â¤26ì¼ì§¸â¤
ðŸ›‘4ì¼í›„: "ðŸ¥‰4ì¼ë’¤ : 2024/10/05"
ðŸ›‘7ì¼í›„: "ðŸ¥ˆ7ì¼ë’¤ : 2024/10/08"
ðŸ›‘14ì¼í›„: "ðŸ¥‡14ì¼ë’¤ : 2024/10/15"
4ì¼í›„: "@2024ë…„ 10ì›” 5ì¼"
4ì¼í›„(text): 2024/10/05
7ì¼í›„: "@2024ë…„ 10ì›” 8ì¼"
7ì¼í›„(text): 2024/10/08
14ì¼í›„: "@2024ë…„ 10ì›” 15ì¼"
14ì¼í›„(text): 2024/10/15
ì˜¤ëŠ˜1: "@2024ë…„ 10ì›” 27ì¼ ì˜¤í›„ 2:00"
ì˜¤ëŠ˜2: 2024/10/27
ì²«í•™ìŠµë‚ text: 2024/10/01
ì˜¤ëŠ˜ê³¼ ì²«í•™ìŠµë‚  ì‚¬ì´: "26"
ì‚¬ì´: "26"
"1ì¼ì°¨ë³µìŠµì—¬ë¶€1,0": "1"
"4ì¼ì°¨ë³µìŠµì—¬ë¶€1,0": "1"
"7ì¼ì°¨ë³µìŠµì—¬ë¶€1,0": "1"
"ìž¥ê¸°ê¸°ì–µì €ìž¥ì—¬ë¶€1,0": "0"
í•™ìŠµë¥ : "0.6"
ì§„í–‰ë°”: ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©â¬œâ¬œâ¬œâ¬œ 60%
---
[[DevOps]] [[CI CD]]

### ë‹¨ì„œ ì§ˆë¬¸

- ì›¹í›…(Web Hook)ì´ëž€?
    
    ì¼ë°˜ì ì¸ APIëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì„œë²„ì—ê²Œ ìš”ì²­í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ìž‘(Polling)í•˜ì§€ë§Œ, ì›¹ í›…ì˜ ê²½ìš°ì—ëŠ” ì„œë²„ì—ì„œ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ë°©ì‹ìž…ë‹ˆë‹¤. ë”°ë¼ì„œ, ì—­ë°©í–¥ APIë¼ê³ ë„ ë§í•©ë‹ˆë‹¤. ì›¹ í›…ì€ ì„œë²„ ì¸¡ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìš”ì²­ì„ ë³´ë‚´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì£¼ì†Œê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ Callback URLì´ë¼ê³  í•©ë‹ˆë‹¤.
    
    ![[image 34.png]]
    
- Argo CDì˜ êµ¬ì„± ìš”ì†Œ 3ê°€ì§€
    1. API Server
    2. Repository Server
    3. Application Controller

### í•µì‹¬ í•„ê¸°

- ì „ì²´ ë‚´ìš© ì ‘ê¸°
    
    ![[image 1 8.png]]
    
    - Argo CD API Server
        
        ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ì¡´ìž¬í•˜ë©° Web UI, CLI, CI/CD ì‹œìŠ¤í…œì— ì˜í•´ ArgoCD API ì„œë²„ì˜ API í˜¸ì¶œì´ ì¼ì–´ë‚œë‹¤.
        
        - ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì „ì²´ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
        - ì–´í”Œë¦¬ì¼€ì…˜ì˜ ìƒíƒœë¥¼ ì²´í¬í•˜ë©° sync, rollback ë“±ì˜ ì—­í• ì„ í•œë‹¤.
        - ë ˆí¬ì§€í† ë¦¬ì™€ Credentialì„ K8S ë‚´ì— Secretìœ¼ë¡œ ê´€ë¦¬í•œë‹¤.
        - ì¸ì¦ê³¼ ì™¸ë¶€ í”„ë¡œë°”ì´ë”ì—ê²Œ ì¸ì¦ ìœ„ìž„ì„ í•  ìˆ˜ ìžˆë‹¤.
        - Git Web Hooksì˜ Listenerì´ë©° forwarderì´ë‹¤.
    - Argo CD Repository Server
        
        ê¹ƒí—ˆë¸Œ ë ˆí¬ì§€í† ë¦¬ì™€ ì—°ê²°ë˜ì–´ K8Sì˜ Manifestë¥¼ ìƒì„±í•˜ê³  ë¦¬í„´í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
        
        ë ˆí¬ì§€í† ë¦¬ URL, Branch, Tag, Params, Application Path ë“±ì„ í†µí•´ì„œ K8S Manifestë¥¼ ë§Œë“ ë‹¤.
        
    - Argo CD Application Controller
        
        ì‹¤í–‰ë˜ê³  ìžˆëŠ” Applicationê³¼ ë ˆí¬ì§€í† ë¦¬ì˜ ìƒíƒœë¥¼ ë¹„êµí•©ë‹ˆë‹¤.
        
        ë§Œì•½, í˜„ìž¬ ì‹¤í–‰ ë˜ëŠ” Applicationê³¼ ë ˆí¬ì§€í† ë¦¬ì˜ ìƒíƒœê°€ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´(OutOfSync) ìœ ì €ê°€ ì •ì˜í•œ ì•¡ì…˜ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
        
        Githubì—ì„œ WebHookì„ í†µí•´ì„œ API ì„œë²„ì— ì½”ë“œ ì—…ë°ì´íŠ¸ê°€ ëë‹¤ê³  ì•Œë¦¼ì„ ì£¼ê³  ì—…ë°ì´íŠ¸ë¥¼ íŠ¸ë¦¬ê±°í•˜ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ ë“±ìœ¼ë¡œ ì‹¤ì œ ì—…ë°ì´íŠ¸ê°€ ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, Application Controllerë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì½”ë“œ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ ì—­í• ì„ í•˜ëŠ” ê²ƒì´ Application Controllerìž…ë‹ˆë‹¤.
        

### í•µì‹¬ ìš”ì•½

- í•µì‹¬ ìš”ì•½ ì ‘ê¸°
    - Argo CDëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ìœ„í•œ ì„ ì–¸ì  GitOps ì—°ì† ì „ë‹¬ ë„êµ¬ìž…ë‹ˆë‹¤.
    - ì£¼ìš” êµ¬ì„± ìš”ì†Œë¡œëŠ” API Server, Repository Server, Application Controllerê°€ ìžˆìŠµë‹ˆë‹¤.
    - API ServerëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ê´€ë¦¬, ìƒíƒœ ì²´í¬, ì¸ì¦ ë“±ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
    - Repository ServerëŠ” Git ì €ìž¥ì†Œì™€ ì—°ê²°ë˜ì–´ ì¿ ë²„ë„¤í‹°ìŠ¤ ë§¤ë‹ˆíŽ˜ìŠ¤íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    - Application ControllerëŠ” ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì €ìž¥ì†Œ ìƒíƒœë¥¼ ë¹„êµí•˜ê³  ë™ê¸°í™”í•©ë‹ˆë‹¤.
    - ì›¹í›…ì„ í†µí•´ ì½”ë“œ ì—…ë°ì´íŠ¸ ì•Œë¦¼ì„ ë°›ì§€ë§Œ, ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ë„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
    - ì´ ì•„í‚¤í…ì²˜ë¥¼ í†µí•´ Argo CDëŠ” ì§€ì†ì ì¸ ë°°í¬ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ ê´€ë¦¬ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤.

### ë³µìŠµì•Œë¦¼

- 
- ìžë™ìœ¼ë¡œ í•¸ë“œí°ì— ì•Œë¦¼ì´ ì˜¤ë„ë¡ ì„¤ì •í•˜ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•œë‹¤.

> [!important]  
> 