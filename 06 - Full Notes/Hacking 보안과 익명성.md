---
기술:
  - Hacking
---
[[Security]]
# 홉을 통하는 네트워크 통신

네트워크의 패킷에는 출발 주소와 도착 주소가 적혀있다.

도착 주소까지 도달하는 동안 통하는 라우터들을 **홉(hop)**이라고 한다.

```Shell
traceroute google.com
traceroute to google.com (142.250.206.206), 30 hops max, 60 byte packets
 1  10.0.2.2 (10.0.2.2)  0.145 ms  0.130 ms  0.168 ms
 2  _gateway (192.168.0.1)  1.090 ms  1.084 ms  1.184 ms
 3  * * *
 4  121.140.28.105 (121.140.28.105)  3.852 ms  4.197 ms  4.822 ms
 5  112.190.41.101 (112.190.41.101)  3.121 ms  3.071 ms  3.020 ms
 6  112.190.33.177 (112.190.33.177)  2.962 ms  3.617 ms 112.190.35.177 (112.190.35.177)  3.586 ms
 7  112.174.47.69 (112.174.47.69)  8.964 ms 112.174.49.201 (112.174.49.201)  7.867 ms 112.174.47.73 (112.174.47.73)  7.431 ms
 8  112.174.84.26 (112.174.84.26)  10.125 ms 112.174.84.38 (112.174.84.38)  10.056 ms 112.174.84.30 (112.174.84.30)  11.456 ms
 9  72.14.202.136 (72.14.202.136)  32.857 ms 72.14.243.228 (72.14.243.228)  35.477 ms 72.14.202.136 (72.14.202.136)  32.755 ms
10  192.178.108.209 (192.178.108.209)  30.016 ms *  29.800 ms
11  142.250.236.53 (142.250.236.53)  31.311 ms 142.250.236.35 (142.250.236.35)  29.971 ms 142.251.226.138 (142.251.226.138)  32.652 ms
12  kix07s07-in-f14.1e100.net (142.250.206.206)  28.893 ms  28.308 ms 108.170.242.166 (108.170.242.166)  38.873 ms
```

  

# 어니언 라우터 시스템

직전 라우터의 IP주소만 암호화하여 저장하는 네트워크 라우터를 구축.

## 토르 작동 방식

토르로 사용하도록 자원한 라우터 네트워크를 통해 전송된다.

분리된 라우터 네트워크를 사용하여 패킷의 데이터, 목적지, 송신자 IP 주소를 암호화하고 다음 홉에 도착하면 복호화된다.

  

# 프록시 서버

프록시 서버를 통해서 트래픽을 송수신하는 방법.

여러 개의 프록시 서버를 사용해서 추적을 더 어렵게 만드는 프록시 체인(Proxy Chain)이 존재한다.

## 프록시 체인(Proxy Chains)

```Shell
proxychains [프록시할 명령어] [인자]
# nmap을 proxychains를 통해 실행한다.
proxychains nmap -sT -Pn [IP주소]
```

proxychains_conf 파일 수정을 통해 프록시 서버를 수정하거나, 프록시 서버를 돌아가면서 요청하게 만들 수 있다.

```Shell
# proxychains.conf
# dynamic_chain
# strict_chain
# random_chain
```

# 가상 사설 네트워크(Virtual Private Network)

VPN은 트래픽에 라우터의 IP 주소를 포함한 채 궁극적인 목적지로 보내는 중개 인터넷 장치로 접속하는 데 사용된다.