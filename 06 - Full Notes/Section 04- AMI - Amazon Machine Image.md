---
â­•ì²« í•™ìŠµë‚ : 2024-08-25
â­•ê³¼ëª©: AWS
â­•êµìž¬: Ultimate AWS Certified SysOps Administrator Associate 2024
â¤1ì¼ë³µìŠµì—¬ë¶€: true
ðŸ§¡4ì¼ë³µìŠµì—¬ë¶€: true
ðŸ’›7ì¼ë³µìŠµì—¬ë¶€: true
ðŸ’š14ì¼ë³µìŠµì—¬ë¶€: true
ðŸ§ ìž¥ê¸°ê¸°ì–µ: true
ë³µìŠµ: ìž¥ê¸°ê¸°ì–µ
ðŸ›‘ì²«ë‚ : "âœì²«ë‚  : 2024/08/25"
ðŸ›‘ì˜¤ëŠ˜: "â°ì˜¤ëŠ˜ : 2024/10/27"
ðŸ›‘ì²«í•™ìŠµí›„ ëª‡ì¼ì§¸?: ì²« í•™ìŠµ í›„ â¤63ì¼ì§¸â¤
ðŸ›‘4ì¼í›„: "ðŸ¥‰4ì¼ë’¤ : 2024/08/29"
ðŸ›‘7ì¼í›„: "ðŸ¥ˆ7ì¼ë’¤ : 2024/09/01"
ðŸ›‘14ì¼í›„: "ðŸ¥‡14ì¼ë’¤ : 2024/09/08"
4ì¼í›„: "@2024ë…„ 8ì›” 29ì¼"
4ì¼í›„(text): 2024/08/29
7ì¼í›„: "@2024ë…„ 9ì›” 1ì¼"
7ì¼í›„(text): 2024/09/01
14ì¼í›„: "@2024ë…„ 9ì›” 8ì¼"
14ì¼í›„(text): 2024/09/08
ì˜¤ëŠ˜1: "@2024ë…„ 10ì›” 27ì¼ ì˜¤í›„ 2:01"
ì˜¤ëŠ˜2: 2024/10/27
ì²«í•™ìŠµë‚ text: 2024/08/25
ì˜¤ëŠ˜ê³¼ ì²«í•™ìŠµë‚  ì‚¬ì´: "63"
ì‚¬ì´: "63"
"1ì¼ì°¨ë³µìŠµì—¬ë¶€1,0": "1"
"4ì¼ì°¨ë³µìŠµì—¬ë¶€1,0": "1"
"7ì¼ì°¨ë³µìŠµì—¬ë¶€1,0": "1"
"ìž¥ê¸°ê¸°ì–µì €ìž¥ì—¬ë¶€1,0": "1"
í•™ìŠµë¥ : "0.8"
ì§„í–‰ë°”: ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©â¬œâ¬œ 80%
---
[[AWS]] [[Ultimate AWS Certified SysOps Administrator Associate 2024]] [[AMI]]

### ë‹¨ì„œ ì§ˆë¬¸

- AMIê°€ ë­ì•¼?
    - Amazon Machine Imageë¡œ íŒ¨í‚¤ì§€ê°€ ì´ë¯¸ ì„¸íŒ…(pre-packed)ë˜ì—ˆìœ¼ë¯€ë¡œ ë¶€íŒ… ì†ë„ì™€ ì„¤ì • ì†ë„ê°€ ë¹ ë¦…ë‹ˆë‹¤.
- ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ë¥¸ AZë¡œ ì˜®ê¸°ëŠ” ë°©ë²•
    
    ì¸ìŠ¤í„´ìŠ¤ë¡œë¶€í„° AMIë¥¼ ìƒˆë¡œ ë§Œë“¤ê³  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ë‹¨í•œ í›„ì— ì´ì „í•œ AZì— AMIë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
    
- AMIë¥¼ ë°±ì—…í•˜ëŠ” ë°©ë²•
    1. AWS Backupì„ ì‚¬ìš©
    2. EventBridgeë¥¼ í†µí•´ì„œ AWS Lambdaë¥¼ íŠ¸ë¦¬ê±° â†’ AWS Lambdaê°€ AMI ì´ë¯¸ì§€ ë°±ì—… í˜¸ì¶œ â†’ ë°±ì—… ì‹œìž‘
- EC2 Image Builderëž€?
    
    ê°€ìƒ ë¨¸ì‹ ì´ë‚˜ ì»¨í…Œì´ë„ˆë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì´ë¯¸ì§€ë¥¼ ë§Œë“œëŠ” ìžë™í™” ì‹œìŠ¤í…œ
    
- EC2 Image Builderì˜ ë™ìž‘ ë°©ì‹
    
    EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„± â†’ ì •ì˜í•œ ì„¤ì •ì— ë§žê²Œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™” â†’ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¡œë¶€í„° AMIë¥¼ ìƒì„± â†’ AMI ìƒì„±ëœ í›„ì— ì¸ìŠ¤í„´ìŠ¤ ì¢…ë£Œ â†’ ë§Œë“¤ì–´ì§„ AMIë¥¼ ì‚¬ìš©í•´ì„œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± â†’ ì •ìƒì ìœ¼ë¡œ ë™ìž‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸
    

### í•µì‹¬ í•„ê¸°

- ì „ì²´ ë‚´ìš© ì ‘ê¸°
    - [CCP/SAA/DVA] AMI Overview
        - AMI = Amazon Machine Image
        - A Customization of an EC2 Instance
            - configure your own setting e.g software, configuration, os, monitoringâ€¦
            - **Faster** **boot / Configuration time** because all your software is pre-packed.
        - AMI are built for **specific region**(can be copied from region to region)
        - Youn can lanch EC2 instances from:
            - A Public AMI: AWS provided
            - Your own AMI
            - An AWS Marketplace AMI
    - AMI Process (from an EC2 instance)
        
        - Start EC2
        - Customize Setting
        - Stop instance (this is for data integrity ë°ì´í„° ë¬´ê²°ì„±)
        - Build AMI(This will also create EBS snapshots)
        
        ![[image 39.png]]
        
    - AMI No-Reboot Option
        
        ![[image 1 12.png]]
        
        - AMI ì…§ë‹¤ìš´ í•˜ì§€ ì•Šê³  AMIë¥¼ ë§Œë“¤ ìˆ˜ ìžˆë‹¤.
        - ê¸°ë³¸ì ìœ¼ë¡œ No-Reboot Optionì€ ì„¤ì • ì•ˆëìŒ
    - AWS Backup Plans to create AMI
        
        - ë°©ë²•1. AWS BackUp
            - no-reboot ì„¤ì •ë˜ì–´ ìžˆëŠ” ê²½ìš°ì—” EC2ëŠ” ìŠ¤ëƒ…ìƒ·ì„ ì°ì„ ë•Œ, ì¸ìŠ¤í„´ìŠ¤ê°€ ì¢…ë£Œëœ ìƒíƒœê°€ ì•„ë‹ˆë¯€ë¡œ íŒŒì¼ ì‹œìŠ¤í…œ ë¬´ê²°ì„±(File System Integridty)ì„ ë³´ìž¥í•˜ì§€ ëª»í•¨.
        - ë°©ë²•2.
            - EventBridgeRuleì„ í†µí•´ AMI ìŠ¤ì¼€ì¥´ë§ì„ í•œë‹¤.
            - ì´ë²¤íŠ¸ê°€ í˜¸ì¶œë˜ë©´ Lamda Functionì„ í˜¸ì¶œí•œë‹¤.
            - Lamda Functionì„ í†µí•´ ë¦¬ë¶€íŒ…í•  ë•Œ reboot ì˜µì…˜ì„ ê±¸ì–´ì„œ ìž¬ë¶€íŒ…ì„ í•˜ë©´ íŒŒì¼ ë¬´ê²°ì„±ì„ ë³´ìž¥ ê°€ëŠ¥í•˜ë‹¤.
        
        ![[Screenshot_from_2024-08-26_10-28-30.png]]
        
    - EC2 Instance Migration to difference AZ
        - ê°œìš”
            
            ![[image 2 10.png]]
            
            - ì„œë¡œ ë‹¤ë¥¸ AZ ê°„ì— ì´ë™ì€ ì•„ëž˜ì™€ ê°™ë‹¤.
                - ì´ë™í•  ì¸ìŠ¤í„´ìŠ¤ë¡œë¶€í„° AMI ì´ë¯¸ì§€ ìƒì„±
                - ì´ë™í•  ì¸ìŠ¤í„´ìŠ¤ ì œê±°
                - ë‹¤ë¥¸ AZì—ì„œ AMI ì´ë¯¸ì§€ë¡œë¶€í„° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        - Cross-Account AMI Sharing
            
            ![[image 3 9.png]]
            
            - ì„œë¡œ ë‹¤ë¥¸ ê³„ì •ê³¼ AMI ê³µìœ ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
            - AMIë¥¼ ê³µìœ í•´ë„ ownershipì—” ì˜í–¥ ì—†ìŠµë‹ˆë‹¤.
            - ê³µìœ í•  AMIëŠ” EBSê°€ ì•”í˜¸í™”ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì•”í˜¸í™”ì— ì‚¬ìš©ëœ CMK(Customer Management Key)ë¥¼ íƒ€ê²Ÿì—ê²Œ ë„˜ê²¨ì¤˜ì•¼ í•©ë‹ˆë‹¤.
        - AMI Sharing with KMS Encryption
            
            ![[image 4 9.png]]
            
            ì•”í˜¸í™”ë˜ì§€ ì•Šì€ ë³¼ë¥¨ì„ ì‚¬ìš©í•œ AMIëŠ” CMKë¥¼ ì‚¬ìš©í•  IAM ê¶Œí•œì„ íƒ€ê²Ÿ ê³„ì •ì— ë¶€ì—¬í•´ì•¼ í•©ë‹ˆë‹¤.
            
            ë¶€ì—¬í•  ê¶Œí•œ
            
            - kms: DescribeKey
            - kms: CreateGrant
            - kms: Decrypt
            - kms: GenerateDataKey
            - kms: ReEncrypt
            
        - Cross-Account AMI Copy
            
            ![[image 5 8.png]]
            
            - ê³µìœ ë˜ëŠ” AMIë¥¼ ë³µì‚¬(copy)í•˜ë©´ ë³µì‚¬í•œ AMIì˜ ì†Œìœ ìžê°€ ë©ë‹ˆë‹¤.
            - ë³µì‚¬ë¥¼ í•˜ê¸° ìœ„í•´ì„  ì›ë³¸ AMI ì†Œìœ ê¶Œìžê°€ í•´ë‹¹ AMIê°€ ì €ìž¥ëœ EBSì— ì ‘ê·¼ ê¶Œí•œì„ ì¤˜ì•¼ í•©ë‹ˆë‹¤.
            - ì›ë³¸ AMIê°€ ì•”í˜¸í™”ë˜ì—ˆë‹¤ë©´ ê³µìœ ì™€ ë™ì¼í•˜ê²Œ CMK í‚¤ë¥¼ ê³µìœ í•´ì•¼ í•©ë‹ˆë‹¤.
            - ë³µì‚¬í•˜ëŠ” ë™ì•ˆì— ìžì‹ ë§Œì˜ CMK í‚¤ë¡œ ë‹¤ì‹œ AMIë¥¼ ìž¬ì•”í˜¸í™”í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
            
            ![[image 6 8.png]]
            
    - [CCP] EC2 Image Builder
        
        ![[image 7 6.png]]
        
        - ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë‚˜ ê°€ìƒë¨¸ì‹  ìƒì„±ì˜ ìžë™í™”ë¥¼ ìœ„í•œ ì„œë¹„ìŠ¤ìž…ë‹ˆë‹¤.
        - EC2 ImageBuilderëŠ” íŠ¹ì • ìŠ¤ì¼€ì¥´(e.g weekly, íŒ¨í‚¤ì§€ê°€ ì—…ë°ì´íŠ¸ ë˜ì—ˆì„ ë•Œ, â€¦)ë§ˆë‹¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ AMI ì´ë¯¸ì§€ë¥¼ ë§Œë“­ë‹ˆë‹¤.
        - ë˜í•œ, AMI ì´ë¯¸ì§€ê°€ ë§Œë“¤ì–´ì§„ ì´í›„ì—” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ì„œ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
        - í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ë©´ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ Regionì— ë°°í¬í•©ë‹ˆë‹¤.
    - AMI in Production
        
        - IAM ì •ì±…ë“¤(Policies)ì„ í†µí•´ ìœ ì €ê°€ íŠ¹ì • AMI(íŠ¹ì • íƒœê·¸ë¥¼ ê°€ì§„ AMI)ë§Œ ì‚¬ìš©í•˜ê²Œ ê°•ì œí•  ìˆ˜ ìžˆë‹¤.
        
        ![[image 8 6.png]]
        
          
        
        - AWS Configë¥¼ ì‚¬ìš©í•´ì„œ Non-approve AMIë¥¼ ì‚¬ìš©í•œ ì¸ìŠ¤í„´ìŠ¤ë“¤ì„ ì°¾ì„ ìˆ˜ ìžˆë‹¤.
        
        ![[image 9 6.png]]
        

### í•µì‹¬ ìš”ì•½

- í•µì‹¬ ìš”ì•½ ì ‘ê¸°
    - AMI(Amazon Machine Image)ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ì»¤ìŠ¤í„°ë§ˆì´ì§• ì´ë¯¸ì§€ë‹¤.
    - AMIëŠ” ë¦¬ì „ì— ì¢…ì†ëœë‹¤.
    - Reboot ì˜µì…˜ì„ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ì§€í•˜ì§€ ì•Šê³  AMIë¥¼ ë§Œë“¤ ìˆ˜ ìžˆë‹¤.
    - ë‹¨, Rebootí•˜ì§€ ì•Šìœ¼ë©´ íŒŒì¼ ì‹œìŠ¤í…œ ë¬´ê²°ì„±ì„ ë³´ìž¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
    - ì¸ìŠ¤í„´ìŠ¤ AZ ë³€ê²½ì€ AMIë¥¼ ë§Œë“¤ê³  í•´ë‹¹ ì´ë¯¸ì§€ë¡œ ìƒˆë¡œìš´ AZì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ëœë‹¤.
    - EC2 Image BuilderëŠ” ê°€ìƒë¨¸ì‹ ì´ë‚˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì„œë¹„ìŠ¤ë‹¤.

### ë³µìŠµì•Œë¦¼

- 
- ìžë™ìœ¼ë¡œ í•¸ë“œí°ì— ì•Œë¦¼ì´ ì˜¤ë„ë¡ ì„¤ì •í•˜ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•œë‹¤.

> [!important]  
> 